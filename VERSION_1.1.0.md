# 版本 1.1.0 - 计划

## 版本目标

在 v1.0.0 基础上，增强功能覆盖和用户体验，提升诊断能力。

---

## 功能规划

### F1 - 批量网址诊断 ⭐ 高优先级

**背景**: 用户需要同时诊断多个网站（如客户站群、A/B 测试对比）

**目标**:
- [ ] 支持同时诊断 N 个网址（如 5/10/20 个）
- [ ] 并行执行，提高效率
- [ ] 生成对比表格（横向对比不同网站得分）

**验收标准**:
```gherkin
Scenario: 批量诊断 3 个网站
  Given 用户配置了 API Key
  And 用户输入 3 个网址
  When 用户触发批量诊断
  Then 系统应并行诊断 3 个网站
  And 系统应生成对比报告
  And 每个网站应有独立评分
```

**实现方案**:
- 输入格式：`批量诊断 https://site1.com https://site2.com https://site3.com`
- 并行执行：使用 `delegate_task` 背景 3 个网站
- 输出：对比表格 + 每个网站的完整报告

**风险**: API 配额消耗增加（N × 6 次/网站）
**预案**: 添加配额警告提示

---

### F2 - 竞品对比分析 ⭐ 高优先级

**背景**: SEO 从业者需要对比自己网站与竞品的差异

**目标**:
- [ ] 输入主站 + 竞品网址
- [ ] 生成对比报告
- [ ] 高亮差异点（优势/劣势）

**验收标准**:
```gherkin
Scenario: 竞品对比
  Given 用户输入主站和 2 个竞品网址
  When 用户触发竞品分析
  Then 系统应诊断 3 个网站
  And 系统应生成对比报告
  And 报告应标注主站优势/劣势
```

**实现方案**:
- 输入格式：`竞品对比 https://mystie.com https://competitor1.com https://competitor2.com`
- 对比维度：
  - 综合得分
  - 各维度得分
  - 优先级问题数量
- 输出：对比矩阵 + 差异分析

---

### F3 - 可视化雷达图 📊 中优先级

**背景**: 用户希望更直观地看到各维度得分分布

**目标**:
- [ ] 生成 Mermaid 雷达图代码
- [ ] 支持 6 维度雷达图（技术、页面、Trust、Experience、Expertise、Authority）
- [ ] 支持单站/竞品对比模式

**验收标准**:
```gherkin
Scenario: 生成单站雷达图
  Given 用户完成网站诊断
  Then 系统应输出 Mermaid 雷达图代码
  And 用户可在支持 Mermaid 的工具中查看
```

**实现方案**:
- Mermaid 格式：
```mermaid
radar-beta
  title SEO Audit
  axis 技术, 页面, Trust, Experience, Expertise, Authority
  curve "我的网站", 85, 72, 75, 68, 70, 72
  max 100
```
- 竞品对比模式：多条曲线

---

### F4 - 历史趋势对比 📈 中优先级

**背景**: 用户希望追踪 SEO 优化效果

**目标**:
- [ ] 支持保存诊断结果到本地
- [ ] 支持对比不同时间点的诊断结果
- [ ] 生成趋势图（维度得分变化）

**验收标准**:
```gherkin
Scenario: 历史趋势对比
  Given 用户保存了上次的诊断结果
  And 用户现在再次诊断同一网站
  Then 系统应对比两次结果
  And 系统应生成趋势说明
  And 系统应标注得分变化
```

**实现方案**:
- 保存格式：`seo-audit-report-2026-02-06-domain.com.json`
- 对比命令：`对比 ./seo-audit-report-2026-01-15-domain.com.json ./seo-audit-report-2026-02-06-domain.com.json`
- 输出：对比表 + 趋势说明

---

### F5 - 新增检查项 📋 中优先级

#### F5.1 - 国际 SEO

**新增项**: 3-5 项

| ID | 检查项 | 标准 |
|----|--------|------|
| I1 | hreflang 标签 | 存在且正确 |
| I2 | 多语言切换 | 功能正常 |
| I3 | 地理定位 | 结构正确 |

#### F5.2 - 本地 SEO

**新增项**: 5-8 项

| ID | 检查项 | 标准 |
|----|--------|------|
| L1 | Google Business Profile | 已关联 |
| L2 | 本地 citations | 数量 ≥10 |
| L3 | NAP 一致性 | 名称/地址/电话一致 |
| L4 | 地理关键词 | 包含在内容中 |
| L5 | 本地评论 | 评分 ≥4.0 |

#### F5.3 - 移动端体验

**新增项**: 3-5 项

| ID | 检查项 | 标准 |
|----|--------|------|
| M1 | 按钮大小 | ≥48×48px |
| M2 | 间距 | ≥8px |
| M3 | 文字大小 | ≥16px |
| M4 | 触摸目标 | 足够大 |

---

### F6 - 报告格式增强 📄 低优先级

**目标**:
- [ ] 支持 PDF 导出
- [ ] 支持 JSON 导出（用于程序化处理）
- [ ] 支持 HTML 渲染（可视化展示）

---

### F7 - 错误处理和提示 💬 低优先级

**目标**:
- [ ] 改进 API Key 缺失时的提示
- [ ] 添加常见错误 FAQ
- [ ] 添加调试模式（输出详细信息）

---

## 技术债务

| ID | 问题 | 影响 | 优先级 |
|----|------|------|--------|
| T1 | 报告生成较慢 | 用户体验 | P1 |
| T2 | 错误提示不够友好 | 用户理解 | P2 |
| T3 | 某些边缘场景未处理 | 稳定性 | P2 |

---

## 时间规划

| 阶段 | 时间 | 交付物 |
|------|------|--------|
| **需求明确** | 1 天 | 确认功能优先级 |
| **技术方案** | 1 天 | 设计实现方案 |
| **开发迭代** | 7 天 | 实现所有功能 |
| **测试验收** | 2 天 | 按场景验证 |
| **文档更新** | 1 天 | 更新文档 |
| **发布准备** | 1 天 | CHANGELOG, GitHub Release |

**总计**: 约 2 周

---

## 风险评估

| 风险 | 可能性 | 影响 | 预案 |
|------|--------|------|------|
| API 配额超限 | 中 | 高 | 添加配额监控，降低频率 |
| 并发执行出错 | 低 | 中 | 添加重试机制 |
| 生成图表失败 | 低 | 低 | 提供文本版本降级 |
| 兼容性问题 | 低 | 低 | 保持向后兼容 |

---

## 成功指标

| 指标 | 目标 |
|------|------|
| 批量诊断功能完成度 | 100% |
| 竞品对比功能完成度 | 100% |
| 雷达图生成成功率 | ≥95% |
| 新增检查项 | ≥10 项 |
| 代码质量 | lsp_diagnostics 0 错误 |
| 文档完整度 | 100% |

---

## 版本信息

- **版本**: 1.1.0
- **状态**: 计划中
- **开始时间**: 待定
- **预计完成**: 待定
- **关联**: v1.0.0（基于当前版本迭代）
