# SEO Skills 设计方案

> 版本: v3.0
> 创建日期: 2026-01-26
> 状态: 待开发

---

## 目录

1. [整体架构](#整体架构)
2. [技能清单](#技能清单)
3. [技术实现](#技术实现)
4. [输出格式](#输出格式)
5. [检查项详情](#检查项详情)

---

## 整体架构

### 工作流程

```
用户输入: /seo-audit https://example.com
            ↓
    ┌───────────────────┐
    │  1. 页面自动检测   │
    └───────────────────┘
            ↓
    方案A: 尝试 sitemap.xml
        ├─ 成功 → 解析URL结构
        └─ 失败 → 方案C: URL启发式规则
            ↓
    识别3种页面类型
    ├─ 首页: /
    ├─ 分类页: 第一层路径
    └─ 文章页: 第二层+路径
            ↓
    ┌───────────────────┐
    │  2. 数据采集      │
    └───────────────────┘
        ├─ 爬取 3个页面 HTML
        ├─ 调用 PageSpeed API (3个URL)
        └─ 获取 robots.txt, sitemap.xml
            ↓
    ┌───────────────────┐
    │  3. AI分析        │
    └───────────────────┘
        ├─ 提取目标关键词
        ├─ 分析内容质量
        └─ 生成优化建议
            ↓
    ┌───────────────────┐
    │  4. 生成报告      │
    └───────────────────┘
        ├─ /seo-technical
        ├─ /seo-onpage
        ├─ /seo-content
        └─ 汇总: {域名}_{日期}_SEO审计报告.md
```

### 文件结构

```
{域名}_{日期}_SEO审计报告.md
├── 1. 执行摘要
├── 2. 技术SEO检查 (seo-technical)
├── 3. 页面元素检查 (seo-onpage)
├── 4. 内容质量分析 (seo-content)
└── 5. 综合评分与行动计划
```

---

## 技能清单

| Skill名称 | 功能描述 | 依赖 |
|-----------|----------|------|
| `/seo-audit` | 综合SEO审计，汇总所有维度 | 调用其他3个skill |
| `/seo-technical` | 技术SEO检查 | PageSpeed API, HTTP请求 |
| `/seo-onpage` | 页面元素检查 | HTML解析, AI关键词提取 |
| `/seo-content` | 内容质量分析 | AI分析, textstat库 |

---

## 技术实现

### 页面自动检测方案

#### 方案A: 基于 sitemap.xml (优先)

```
1. 尝试访问 /sitemap.xml
2. 解析XML，提取所有URL
3. 分析URL路径层级
   - 首页: 根路径 /
   - 分类页: 有子页的父级路径 (如 /blog, /category/tech)
   - 文章页: 最深层叶子页 (如 /blog/post-123)
4. 各选1个代表页面
```

**优点**: 结构化数据，准确
**缺点**: 不是所有网站都有sitemap

#### 方案C: URL启发式规则 (sitemap失败时)

```
1. 爬取首页 HTML
2. 从导航/内部链接中识别:
   - 首页: /
   - 分类页: 第一层子路径
     * 常见模式: /blog, /products, /news, /category
     * 选择有多个子链接的路径
   - 文章页: 第二层及更深路径
     * 常见模式: /blog/xxx, /post/xxx, /article/xxx
     * 选择最长路径的链接
```

**优点**: 适用于大多数网站
**缺点**: 可能误判

**组合策略**:
```
优先方案A → 失败或结果<3个页面 → 方案C → 仍失败 → 提示用户
```

### 数据采集

| 数据源 | 工具/方法 | 用途 |
|--------|-----------|------|
| HTML内容 | requests + BeautifulSoup | 页面元素、内容分析 |
| PageSpeed API | 已有API Key | 性能指标、Core Web Vitals |
| robots.txt | HTTP请求 | 可发现性检查 |
| sitemap.xml | HTTP请求 | 页面检测、结构分析 |

### AI分析

| 分析项 | 方法 | 输出 |
|--------|------|------|
| 关键词提取 | 从Title/H1/首段提取 | 主关键词、相关关键词 |
| 关键词密度 | 统计分析 | 百分比 |
| 内容相关性 | AI评分 | 0-100分 + 评语 |
| 内容完整性 | AI评分 | 0-100分 + 评语 |
| 内容独特性 | AI评分 | 0-100分 + 评语 |
| 可读性(英文) | textstat库 | Flesch分数 |

### 依赖库

```python
# HTTP请求
requests

# HTML解析
beautifulsoup4

# PageSpeed API
已有API Key

# 可读性分析
textstat

# AI分析
Claude API
```

---

## 输出格式

### 最终报告模板

```markdown
# SEO 审计报告 - {domain}

**生成时间**: {YYYY-MM-DD HH:MM:SS}
**审计范围**: 首页、分类页、文章页

---

## 📊 执行摘要

### 综合评分: 72/100

| 维度 | 得分 | 状态 | 趋势 |
|------|------|------|------|
| 技术SEO | 68/100 | 🟡 需要改进 | → |
| 页面元素 | 75/100 | 🟢 良好 | ↑ |
| 内容质量 | 72/100 | 🟡 需要改进 | → |

### 🎯 AI识别的目标关键词

- **主关键词**: {AI提取}
- **相关关键词**: {词1}, {词2}, {词3}

### 🚨 必须修复 (P0) - 3项
1. [ ] 首页LCP评分: 45 (< 2.5s标准)
2. [ ] 文章页5张图片缺少Alt属性
3. [ ] 分类页缺少H1标签

### ⚠️ 建议优化 (P1) - 5项
1. [ ] 首页Title过长 (78字符，建议≤60)
2. [ ] Meta描述缺失 (分类页)
3. [ ] 内容字数偏少 (首页)
...

### ✅ 做得好的 - 12项
1. ✓ 所有页面使用HTTPS
2. ✓ robots.txt配置正确
...

---

## 📈 优先级行动计划

| 优先级 | 问题 | 预计影响 | 难度 | 预计工时 |
|--------|------|----------|------|----------|
| P0 | LCP性能优化 | 高 | 中 | 2-4h |
| P0 | 图片Alt补充 | 中 | 低 | 0.5h |
| P1 | Title长度优化 | 高 | 低 | 0.25h |
...

---

## 1. 技术SEO检查

### 1.1 Core Web Vitals

| 指标 | 标准 | 首页 | 分类页 | 文章页 | 平均 | 状态 |
|------|------|------|--------|--------|------|------|
| **LCP** | <2.5s | 3.2s 🔴 | 2.8s 🟡 | 2.1s 🟢 | 2.7s | 🟡 |
| **FID** | <100ms | 85ms 🟢 | 120ms 🟡 | 65ms 🟢 | 90ms | 🟢 |
| **CLS** | <0.1 | 0.08 🟢 | 0.15 🔴 | 0.05 🟢 | 0.09 | 🟡 |

图例: 🟢 优秀 | 🟡 需要改进 | 🔴 亟需优化

### 1.2 PageSpeed 性能评分

| 设备 | 首页 | 分类页 | 文章页 | 平均 |
|------|------|--------|--------|------|
| 移动端 | 65 🟡 | 72 🟢 | 78 🟢 | 72 |
| 桌面端 | 78 🟢 | 85 🟢 | 88 🟢 | 84 |

### 1.3 安全与可访问性

| 检查项 | 首页 | 分类页 | 文章页 | 状态 |
|--------|------|--------|--------|------|
| HTTPS | ✓ | ✓ | ✓ | 🟢 |
| 混合内容 | ✓ | ✓ | ✓ | 🟢 |
| robots.txt | ✓ 可访问 | - | - | 🟢 |
| sitemap.xml | ✓ 可访问 | - | - | 🟢 |
| 结构化数据 | ✗ 缺失 | ✓ 有 | ✓ 有 | 🟡 |

### 1.4 移动端友好性

| 检查项 | 首页 | 分类页 | 文章页 |
|--------|------|--------|--------|
| viewport配置 | ✓ | ✓ | ✓ |
| 响应式设计 | ✓ | ✓ | ✓ |
| 触摸元素间距 | ✓ | ⚠️ | ✓ |

### 1.5 技术问题清单

#### 🚨 严重问题
- [ ] 首页LCP: 3.2s (标准<2.5s) - 影响: 高
- [ ] 分类页CLS: 0.15 (标准<0.1) - 影响: 中

#### ⚠️ 警告
- [ ] 首页缺少结构化数据 - 影响: 低
- [ ] 分类页移动端触摸元素间距不足 - 影响: 中

#### ✅ 良好实践
- ✓ HTTPS全站覆盖
- ✓ robots.txt正确配置
- ✓ sitemap.xml可访问

---

## 2. 页面元素检查

### 2.1 AI识别的关键词

**主关键词**: {AI从Title/H1/内容提取}

**相关关键词**: {AI提取的相关词列表}

### 2.2 Title 标签分析

| 页面 | Title内容 | 长度 | 关键词 | 状态 | 建议 |
|------|-----------|------|--------|------|------|
| 首页 | {实际Title} | 78 🟡 | ✓ | 🟡 | 缩短至60字符内 |
| 分类页 | {实际Title} | 52 🟢 | ✓ | 🟢 | - |
| 文章页 | {实际Title} | 65 🟡 | ✗ | 🟡 | 缩短并加入关键词 |

**标准**: 50-60字符最佳，不超过60字符

### 2.3 Meta Description 分析

| 页面 | 描述内容 | 长度 | 关键词 | 状态 | 建议 |
|------|----------|------|--------|------|------|
| 首页 | {实际描述} | 145 🟢 | ✓ | 🟢 | - |
| 分类页 | ✗ 缺失 | - | - | 🔴 | 必须添加 |
| 文章页 | {实际描述} | 165 🟡 | ✓ | 🟡 | 缩短至160字符 |

**标准**: 150-160字符最佳

### 2.4 H标签结构

#### 首页
```
H1: {内容} ✓
├─ H2: {X}个
│  ├─ H3: {X}个
│  └─ H3: {X}个
└─ H2: {X}个
```
- H1唯一性: ✓ (仅1个)
- H1含关键词: ✓
- 层级结构: 🟢 正确

#### 分类页
```
H1: {内容} ✓
└─ H2: {X}个
```
- H1唯一性: ✓
- H1含关键词: ✗ (建议加入)
- 层级结构: 🟢

#### 文章页
```
H1: {内容} ✓
├─ H2: {X}个
│  ├─ H3: {X}个
│  └─ H3: {X}个
└─ H2: {X}个
```
- H1唯一性: ✓
- H1含关键词: ✓
- 层级结构: 🟢

### 2.5 URL结构

| 页面 | URL | 长度 | 关键词 | HTTPS | 状态 |
|------|-----|------|--------|-------|------|
| 首页 | / | 1 | - | ✓ | 🟢 |
| 分类页 | /category/tech | 14 | ✓ | ✓ | 🟢 |
| 文章页 | /post/2024/01/seo-guide | 26 | ✓ | ✓ | 🟢 |

### 2.6 图片优化

| 页面 | 图片总数 | 有Alt | 缺失Alt | 完整率 | 缺失列表 |
|------|----------|-------|---------|--------|----------|
| 首页 | 12 | 10 | 2 | 83% 🟡 | img1.jpg, img2.jpg |
| 分类页 | 5 | 5 | 0 | 100% 🟢 | - |
| 文章页 | 8 | 3 | 5 | 38% 🔴 | img3~7.jpg |

**标准**: 100%图片应有Alt属性

### 2.7 链接分析

| 页面 | 内链数 | 外链数 | 状态 | 建议 |
|------|--------|--------|------|------|
| 首页 | 15 | 3 | 🟢 | - |
| 分类页 | 8 | 1 | 🟡 | 增加内链 |
| 文章页 | 2 | 5 | 🟡 | 增加内链 |

**标准**: 建议每页至少3个内链

### 2.8 缺失元素清单

| 页面 | 缺失元素 | 优先级 |
|------|----------|--------|
| 首页 | - | - |
| 分类页 | Meta描述 | P0 |
| 分类页 | H1标签 | P0 |
| 文章页 | 5张图片Alt | P0 |
| 首页 | 结构化数据 | P1 |

---

## 3. 内容质量分析

### 3.1 AI内容分析

#### 目标关键词
- **主关键词**: {AI提取}
- **相关关键词**: 词1, 词2, 词3

#### 内容概览

| 页面 | 字数 | 段落数 | 句子数 | 关键词密度 | 首段含关键词 |
|------|------|--------|--------|------------|-------------|
| 首页 | 456 🟡 | 8 | 22 | 1.8% 🟢 | ✓ |
| 分类页 | 234 🔴 | 4 | 12 | 2.2% 🟡 | ✗ |
| 文章页 | 1245 🟢 | 18 | 65 | 1.5% 🟢 | ✓ |

**标准**:
- 字数: 首页≥500, 分类页≥300, 文章页≥1000
- 关键词密度: 1-2%
- 首段应包含主关键词

### 3.2 AI质量评分

#### 首页内容评估

| 维度 | 得分 | 评语 |
|------|------|------|
| 相关性 | 78/100 🟢 | 内容与主题基本一致，建议增加核心关键词 |
| 完整性 | 65/100 🟡 | 缺少服务介绍部分 |
| 结构清晰度 | 82/100 🟢 | 段落分明，逻辑清晰 |

**AI建议**:
- 增加服务介绍内容
- 补充客户案例

#### 分类页内容评估

| 维度 | 得分 | 评语 |
|------|------|------|
| 相关性 | 70/100 🟡 | 内容较泛，建议聚焦分类主题 |
| 完整性 | 60/100 🟡 | 缺少分类说明 |
| 结构清晰度 | 75/100 🟢 | 结构清晰 |

**AI建议**:
- 增加字数至300以上
- 首段加入主关键词
- 添加分类描述

#### 文章页内容评估

| 维度 | 得分 | 评语 |
|------|------|------|
| 相关性 | 88/100 🟢 | 内容紧扣主题 |
| 完整性 | 85/100 🟢 | 内容完整全面 |
| 结构清晰度 | 90/100 🟢 | 结构优秀，层次分明 |
| 可读性 | 75/100 🟢 | Flesch: 68 (标准易懂) |
| 独特性 | 80/100 🟢 | 内容有独特观点 |

**AI建议**:
- 内容质量良好，保持当前水平

### 3.3 关键词分析

#### 关键词分布

| 页面 | 标题 | H1 | 首段 | 正文 | 出现次数 |
|------|------|-----|------|------|----------|
| 首页 | ✓ | ✓ | ✓ | ✓ | 8次 (1.8%) |
| 分类页 | ✓ | ✗ | ✗ | ✓ | 5次 (2.2%) |
| 文章页 | ✓ | ✓ | ✓ | ✓ | 19次 (1.5%) |

**标准**: 密度1-2%，分布在关键位置

#### 相关关键词覆盖

| 相关词 | 首页 | 分类页 | 文章页 |
|--------|------|--------|--------|
| 词1 | ✓ | ✗ | ✓ |
| 词2 | ✓ | ✓ | ✓ |
| 词3 | ✗ | ✗ | ✓ |

### 3.4 内容结构

| 页面 | 小标题 | 列表 | 图片 | 表格 | 多媒体 |
|------|--------|------|------|------|--------|
| 首页 | 3个 | ✓ | 12张 | ✗ | ✗ |
| 分类页 | 1个 | ✗ | 5张 | ✗ | ✗ |
| 文章页 | 6个 | ✓ | 8张 | ✓ | ✗ |

### 3.5 内容建议

#### 首页
- [ ] 增加字数至500以上 (当前456)
- [ ] 首段已含关键词 ✓
- [ ] 补充服务介绍内容

#### 分类页
- [ ] 增加字数至300以上 (当前234)
- [ ] 首段加入主关键词
- [ ] 添加分类描述
- [ ] 增加列表元素提升可读性

#### 文章页
- [ ] 内容质量良好 ✓
- [ ] 考虑添加视频或音频内容

---

## 4. 综合评估与建议

### 4.1 维度得分对比

```
技术SEO    ████████████████████████░░░░░░░░░░░░  68/100
页面元素   ████████████████████████████████░░░░  75/100
内容质量   ████████████████████████████░░░░░░░░  72/100
────────────────────────────────────────────────
综合评分   ████████████████████████████░░░░░░░░  72/100
```

### 4.2 竞争对比建议

基于当前得分，与行业平均水平对比:

| 指标 | 本站 | 行业平均 | 差距 |
|------|------|----------|------|
| 技术SEO | 68 | 75 | -7 |
| 页面元素 | 75 | 72 | +3 |
| 内容质量 | 72 | 70 | +2 |

### 4.3 分阶段优化计划

#### 第一阶段 (1-2周) - 快速见效
- [ ] 补充所有缺失的Alt属性 (预计0.5h)
- [ ] 添加分类页Meta描述 (预计0.25h)
- [ ] 添加分类页H1标签 (预计0.25h)
- [ ] 优化过长的Title (预计0.5h)

**预期提升**: +5分

#### 第二阶段 (2-4周) - 性能优化
- [ ] 优化LCP性能 (首页3.2s→2.5s) (预计2-4h)
- [ ] 修复CLS问题 (分类页) (预计1-2h)
- [ ] 图片压缩优化 (预计1h)
- [ ] 启用CDN (预计1h)

**预期提升**: +8分

#### 第三阶段 (1-2月) - 内容建设
- [ ] 增加首页内容字数 (预计2h)
- [ ] 增加分类页内容字数 (预计1h)
- [ ] 添加结构化数据 (预计2h)
- [ ] 建立内链体系 (预计3h)

**预期提升**: +6分

### 4.4 预期目标

| 时间节点 | 目标得分 | 主要措施 |
|----------|----------|----------|
| 2周后 | 77/100 | 完成第一阶段 |
| 1月后 | 85/100 | 完成第二阶段 |
| 2月后 | 91/100 | 完成第三阶段 |

---

## 附录

### A. 检查页面信息

| 页面类型 | URL | 爬取时间 |
|----------|-----|----------|
| 首页 | {URL} | {时间戳} |
| 分类页 | {URL} | {时间戳} |
| 文章页 | {URL} | {时间戳} |

### B. API调用记录

- PageSpeed API调用: 3次
- 爬取页面: 3个
- HTML解析: 3份

### C. 生成信息

- 报告生成时间: {YYYY-MM-DD HH:MM:SS}
- 报告版本: v3.0
- 生成工具: SEO Skills

---

**报告结束**
```

---

## 检查项详情

### 技术SEO检查项

| ID | 检查项 | 数据来源 | 评分标准 | 权重 |
|----|--------|----------|----------|------|
| T1 | PageSpeed评分(移动) | API | 90+🟢 70-89🟡 <70🔴 | 15% |
| T2 | PageSpeed评分(桌面) | API | 90+🟢 70-89🟡 <70🔴 | 10% |
| T3 | LCP | API | <2.5s🟢 <4s🟡 ≥4s🔴 | 15% |
| T4 | FID | API | <100ms🟢 <300ms🟡 ≥300ms🔴 | 10% |
| T5 | CLS | API | <0.1🟢 <0.25🟡 ≥0.25🔴 | 10% |
| T6 | HTTPS | HTML | 有🟢 无🔴 | 10% |
| T7 | 混合内容 | HTML | 无🟢 有🔴 | 5% |
| T8 | robots.txt | HTTP | 有🟢 无🟡 | 5% |
| T9 | sitemap.xml | HTTP | 有🟢 无🟡 | 5% |
| T10 | 结构化数据 | HTML | 有🟢 无🟡 | 5% |
| T11 | viewport | HTML | 有🟢 无🔴 | 5% |
| T12 | 响应式设计 | HTML | 是🟢 否🔴 | 5% |

### 页面元素检查项

| ID | 检查项 | 数据来源 | 评分标准 | 权重 |
|----|--------|----------|----------|------|
| O1 | Title长度 | HTML | 50-60🟢 其他🟡 | 10% |
| O2 | Title关键词 | HTML+AI | 有🟢 无🔴 | 5% |
| O3 | Meta长度 | HTML | 150-160🟢 其他🟡 | 10% |
| O4 | Meta关键词 | HTML+AI | 有🟢 无🟡 | 5% |
| O5 | H1存在 | HTML | 有🟢 无🔴 | 10% |
| O6 | H1唯一 | HTML | 1个🟢 其他🔴 | 10% |
| O7 | H1关键词 | HTML+AI | 有🟢 无🟡 | 5% |
| O8 | H层级 | HTML | 正确🟢 错误🔴 | 10% |
| O9 | URL长度 | HTML | <100🟢 ≥100🟡 | 5% |
| O10 | URL关键词 | HTML+AI | 有🟢 无🟡 | 5% |
| O11 | Alt完整 | HTML | 100%🟢 <100%🔴 | 15% |
| O12 | 内链数 | HTML | ≥3🟢 <3🟡 | 5% |
| O13 | 外链数 | HTML | ≥1🟢 0🟡 | 5% |

### 内容质量检查项

| ID | 检查项 | 数据来源 | 评分标准 | 权重 |
|----|--------|----------|----------|------|
| C1 | 字数(首页) | HTML | ≥500🟢 <500🔴 | 10% |
| C2 | 字数(分类) | HTML | ≥300🟢 <300🔴 | 10% |
| C3 | 字数(文章) | HTML | ≥1000🟢 <1000🔴 | 10% |
| C4 | 关键词密度 | HTML+AI | 1-2%🟢 其他🟡 | 15% |
| C5 | 首段关键词 | HTML+AI | 有🟢 无🔴 | 10% |
| C6 | 相关词覆盖 | AI | 覆盖好🟢 一般🟡 | 10% |
| C7 | 内容相关性 | AI | ≥80🟢 <80🟡 | 10% |
| C8 | 内容完整性 | AI | ≥80🟢 <80🟡 | 10% |
| C9 | 结构清晰度 | AI | ≥80🟢 <80🟡 | 5% |
| C10 | 可读性(英文) | textstat | ≥60🟢 <60🟡 | 5% |
| C11 | 内容独特性 | AI | ≥75🟢 <75🟡 | 5% |

---

## 开发待办事项

- [ ] Phase 1: 数据采集模块
  - [ ] 网页爬取功能
  - [ ] PageSpeed API集成
  - [ ] sitemap.xml解析
  - [ ] 页面类型自动检测

- [ ] Phase 2: 分析模块
  - [ ] HTML解析器
  - [ ] AI关键词提取
  - [ ] AI内容分析
  - [ ] Flesch可读性计算

- [ ] Phase 3: 报告生成
  - [ ] Markdown模板
  - [ ] 评分算法
  - [ ] 汇总逻辑

- [ ] Phase 4: Skill封装
  - [ ] /seo-audit
  - [ ] /seo-technical
  - [ ] /seo-onpage
  - [ ] /seo-content

---

*本文档版本: v3.0*
*最后更新: 2026-01-26*
